---
export const prerender = false;

import { getLiveCollection } from 'astro:content';
import { LiveCollectionValidationError } from 'astro/content/runtime';
import type { Category } from '../loaders/categories-loader';

const { entries: categories, error } = await getLiveCollection('categories');
// , {
//    parentSlug: undefined
// } as any
console.log("üöÄ ~ categories:", categories)

if (LiveCollectionValidationError.is(error)) {
  console.log("üöÄ ~ Categories component ~ shema validation errors:", error)
} else if (error) {
  console.log("üöÄ ~ Categories component ~ error:", error)
}
---

<div class="hero bg-base-100">
  <div class="hero-content flex-col lg:flex-row">
    <div class="px-3">
      <p class="py-1">
        –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–æ–≤–∞—Ä–æ–≤:<br />
        <ul class="list-disc">
          {
            categories && categories.map((x) => {
              const item = x as unknown as Category;
              return (<li>{item.id} - {item.slug}</li>);
            })
          }
        </ul>
        { !categories && <span>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</span> }
      </p>
    </div>
  </div>
</div>