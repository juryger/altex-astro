---
import { Image } from 'astro:assets';

interface Props {
  id: string,
}

const { id } = Astro.props;
const productsBlobStorageUrl = `${import.meta.env.PUBLIC_BLOB_STORAGE_PRODUCTS_URL}`;

const titleCart = "Корзина";
const titleCloseCart = "Закрыть корзину";
const titleCheckout = "Перейти к оформлению";
const titleContinueShopping = "Вернутся в каталог";
const titleSubtotal = "Итого:"; 
const titleOr = "или";
---

<cart-sidebar>
  <div class="drawer drawer-end">
    <input id={id} type="checkbox" class="drawer-toggle" />
    <div class="drawer-side">
      <label for={id} aria-label="close sidebar" class="drawer-overlay"></label>
      <ul class="menu bg-base-200 min-h-full w-90 p-4">
        <!-- Sidebar title -->
        <div class="flex items-start justify-between">
          <h2 id="drawer-title" class="text-lg font-bold">{titleCart}</h2>
          <div class="ml-3 flex h-7 items-center">
            <label for={id} class="cursor-pointer hover:text-gray-500">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-slot="icon" aria-hidden="true" class="size-6">
                <title>{titleCloseCart}</title>
                <path d="M6 18 18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"></path>
              </svg>
            </label>
          </div>
        </div>
        <!-- Sidebar content -->
        <div class="flex h-full flex-col overflow-auto focus:outline-none">
          <!-- <CartContent /> -->
          <ul role="list" class="-my-6 divide-y divide-gray-200">
            <li class="flex py-6">
              <div class="grid gap-3 items-start">
                <div>
                  {/* Gallery */}
                  <figure class="aspect-square lg:aspect-auto min-h-[100px]">
                    <Image src={productsBlobStorageUrl.concat("/", "padlock-master-vline.png")} alt={"Замок АПЕКС PD-38 перфо-ключ"} width="80" height="80" class="rounded-xl" />
                  </figure>
                  {/* Product code */}
                  <div class="flex flex-row justify-start">
                    <span class="text-xs italic \">Артикул:</span>
                    <span class="text-xs italic ml-1">{"1234"}</span>
                  </div>
                </div>
                <div class="flex flex-col">
                  <span class="font-bold text-md">{"Замок АПЕКС PD-38 перфо-ключ"}</span>
                  <span class="text-info">{"123.85 руб."}</span>
                  <legend class="fieldset-legend font-semibold text-sm">Цвет:</legend>
                  <select class="select input-sm">
                    <option selected>Chrome</option>
                    <option>FireFox</option>
                    <option>Safari</option>
                  </select>
                  <legend class="fieldset-legend font-semibold text-sm">Количество:</legend>
                  <input
                    type="number"
                    class="input validator input-sm"
                    required
                    placeholder="Type a number between 1 to 10"
                    min="1"
                    max="10"
                    title="Must be between be 1 to 10"
                  />
                  {/* Available colors */}
                  {/* Quantity input */}
                  {/*
                    <div class="flex flex-1 items-end justify-between text-sm">
                      <p class="text-gray-500">Qty 1</p>
                      <div class="flex">
                        <button type="button" class="font-medium text-indigo-600 hover:text-indigo-500">Remove</button>
                      </div>
                    </div>
                  */}
                </div>
              </div>
            </li>
          </ul>
          <!-- Cart footer -->
          <div class="border-t border-gray-200 py-6">
            <div class="flex justify-between text-base font-medium">
              <p>{titleSubtotal}</p>
              <p>$262.00</p>
            </div>
            <div class="mt-3">
              <a href="/cart" class="btn btn-primary flex items-center justify-center rounded-md border border-transparent">
                {titleCheckout}
              </a>
            </div>
            <div class="mt-3 flex justify-center text-center text-sm">
              <p>
                {titleOr}
                <a href="/catalog" class="text-primary">
                  {titleContinueShopping}
                  <span class="ml-0.5" aria-hidden="true">→</span>
                </a>
              </p>
            </div>
          </div>
        </div>
      </ul>
    </div>
  </div>
</cart-sidebar>